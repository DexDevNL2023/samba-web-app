<div class="surface-overlay px-3 lg:px-6 flex align-items-stretch relative border-bottom-1 surface-border"
    style="min-height: 80px;">
    <div class="flex align-items-center justify-content-center">
        <img src="assets/layout/images/logo-couleur.png" alt="Logo" height="40" class="hidden lg:inline mr-3 lg:mr-6"
            (click)="goToHome()">
        <img src="assets/layout/images/logo-couleur.png" alt="Logo" height="40" class="inline lg:hidden mr-3 lg:mr-6"
            (click)="goToHome()">
    </div>
    <div class="flex align-items-center flex-auto">
        <span class="text-3xl block text-cyan-900 font-bold justify-content-center">Bienvenue dans l'agence virtuelle
            de SAMB'A Assurances Gabon S.A</span>
    </div>
    <div class="flex ml-3 lg:ml-6 justify-content-between">
        <ul class="list-none p-0 m-0 flex">
            <ng-container *ngIf="isLoggedIn; else loggedOut">
                <li #profile class="inline-flex relative" (click)="toggleAccountMenu()">
                    <a href="#"
                        class="p-element p-ripple text-900 font-medium inline-flex align-items-center cursor-pointer px-1 lg:px-3 mr-2 lg:mr-0 border-bottom-2 border-transparent hover:border-primary select-none">
                        <i class="pi pi-user text-xl mr-2"></i><span
                            class="responsive-text">{{account?.fullName}}</span>
                        <span class="p-ink"></span>
                    </a>
                    <div class="border-round surface-overlay p-3 shadow-2 absolute right-0 top-100 z-1 w-25rem origin-top"
                        [ngClass]="{'hidden': !isAccountMenuVisible}">
                        <ul class="list-none p-0 m-0">
                            <li *ngFor="let item of menu">
                                <a [routerLink]="item.routerLink" *ngIf="item.routerLink"
                                    class="cursor-pointer text-700 hover:text-900 hover:surface-100 border-round flex align-items-center px-3 py-2">
                                    <i class="pi pi-fw" [ngClass]="item.icon + ' text-lg mr-2'"></i><span>{{ item.label }}</span>
                                </a>
                                <a *ngIf="item.action" (click)="item.action()"
                                    class="cursor-pointer text-700 hover:text-900 hover:surface-100 border-round flex align-items-center px-3 py-2">
                                    <i class="pi pi-fw" [ngClass]="item.icon + ' text-lg mr-2'"></i><span>{{ item.label }}</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>

                <li #notifications class="inline-flex relative" (click)="toggleNotificationsMenu()">
                    <a href="#"
                        class="p-element p-ripple text-900 font-medium inline-flex align-items-center cursor-pointer px-1 lg:px-3 border-bottom-2 border-transparent hover:border-primary select-none">
                        <i pbadge="" class="p-element pi pi-fw pi-envelope text-xl p-overlay-badge mr-2">
                            <p-badge [value]="myNotifs?.length" class="bg-gray-200 text-gray-900 border-circle p-element">
                            </p-badge>
                        </i>
                        <span class="responsive-text">Notifications</span>
                        <span class="p-ink" style="height: 79px; width: 79px; top: 2.09999px; left: -26.1px;"></span>
                    </a>
                    <div class="border-round surface-overlay p-3 shadow-2 absolute right-0 top-100 z-1 w-25rem origin-top"
                        [ngClass]="{'hidden': !isNotificationsMenuVisible}">
                        <ul class="list-none p-0 m-0">
                            <li *ngFor="let notification of myNotifs" role="menuitem">
                                <a href="#" (click)="openNotifications()">
                                    <i *ngIf="notification.typeNotification === 'PAYMENT'"
                                        class="pi pi-fw pi-credit-card"></i>
                                    <i *ngIf="notification.typeNotification === 'SUBSCRIPTION'"
                                        class="pi pi-fw pi-ticket"></i>
                                    <i *ngIf="notification.typeNotification === 'CLAIM'" class="pi pi-fw pi-map"></i>
                                    <i *ngIf="notification.typeNotification === 'REQUEST'" class="pi pi-fw pi-user"></i>
                                    <i *ngIf="notification.typeNotification === 'INFO'" class="pi pi-fw pi-info"></i>
                                    <i *ngIf="notification.typeNotification === 'REMINDER'"
                                        class="pi pi-fw pi-bell"></i>
                                    <i *ngIf="notification.typeNotification === 'PROFILE'"
                                        class="pi pi-fw pi-id-card"></i>
                                    <span>{{notification.titre}} </span>
                                    <span class="topbar-menu-active">{{notification.dateEnvoi | date:'short'}}</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ng-container>

            <ng-template #loggedOut>
                <li class="inline-flex relative">
                    <a routerLink="/login"
                        class="p-element p-ripple text-900 font-medium inline-flex align-items-center cursor-pointer px-1 lg:px-3 mr-2 lg:mr-0 border-bottom-2 border-transparent hover:border-primary select-none">
                        <i class="pi pi-sign-in text-xl mr-2"></i><span class="responsive-text">Se connecter</span>
                        <span class="p-ink"></span>
                    </a>
                </li>
            </ng-template>
        </ul>
    </div>
</div>

<div class="surface-200 grid grid-nogutter px-2 lg:px-5 flex align-items-stretch relative border-bottom-1 surface-border"
    style="min-height: 5px;">
    <div class="flex justify-center items-center w-full h-full my-4">
        <span class="text-cyan-900 text-center w-full mx-4">
            Découvrez une nouvelle ère de protection avec SAMB'A Assurances Gabon S.A — votre partenaire en micro-assurance accessible à tous.
        </span>
    </div>
</div>